{% extends 'base.html' %}
{% block content %}

<br/>
<div class="p-3 mb-2 bg-success text-white">
    <h1>Water Channel Blog</h1>
    <p> The global water crisis is a major concern today and will become more severe in the coming years. The availability of 
        freshwater becomes more challenging in the semi-arid regions. However, in other areas where freshwater is available(surface and groundwater), 
        contamiantion and degradation of the water quality is a major issue risking the health of 
        millions of people. As per the SDG 6, availability of fresh and safe water
        for all is a basic necessity for overall human development. Therefore, there is need of ideas and solutions that can help
        to provide the clean freeshwater to the entire population. 
        This water channel blog is an open access blog to share the ideas and solutions to address global water issues. All the water 
        practictioner from all over the world (including professional, students) can be a member of the community in the blog. 
        </p>
</div>
<!-- 
<div class="bg-success p-2" style="--bs-bg-opacity: .5;">
<h1>Post</h1>
<ul>
    <div class="row">
       
            {% for post in post_list %}
                <li>
                <strong>{{ post.title }}</strong> - <em>{{ post.author.first_name }} </em>
                <em>{{ post.author.last_name }}</em> -
                <em>{{ post.created_on }} </em>
                <small>
                {% if user.is_authenticated %}
                    <a href="{% url 'edit_post' post.pk %}">(Edit)</a>
                    <a href="{% url 'delete_post' post.pk %}">(Delete)</a>
                {% endif %}
                </small>     
                <br>        
            {{ post.content| slice:":200" }}<a href = "{% url 'article-detail' post.pk %}">more...</small></a>
                </li>

            {% endfor %}
            </ul>       
    </div>
    
</div>

-->
<div class="container-fluid">
<h2 class = "title"> Recent Posts</h2>
    <div class="row">
        {% for post in post_list %}
        <div class="col-md-4">
            <div class="card mb-4">
                <div class="card-body">
                    <div class="image-container">
                        {% if "placeholder" in post.featured_image.url %}
                        <img class="card-img-top"
                            src="https://codeinstitute.s3.amazonaws.com/fullstack/blog/default.jpg">
                        {% else %}
                        <img class="card-img-top" src=" {{ post.featured_image.url }}">
                        {% endif %}
                    </div>                    
                        <h2 class="card-title">{{ post.title }}</h2>
                        <small>
                            <em>{{ post.author.first_name }} </em>
                            <em>{{ post.author.last_name }}</em> -
                            <em>{{ post.created_on }} </em>
                        </small>
                        <br/>
                        
                       <!--  <p class="card-text">{{ post.excerpt }}</p>-->
                        <small>
                            {% if user.is_authenticated %}
                                {% if user.id == post.author.id %}
                                    <a href="{% url 'edit_post' post.pk %}">(Edit)</a>
                                    <a href="{% url 'delete_post' post.pk %}">(Delete)</a>
                                {% endif %}
                            {% endif %}
                            </small>
                            <br/>      
                    {{ post.content| slice:":200" }}<a href = "{% url 'article-detail' post.pk %}"> more...</small></a> 
                   
                   
                    <!-- <p class="card-text text-muted h6"><i class="far fa-heart"></i> 
                     {{ post.number_of_likes }}<i class="far fa-thumbs-down"></i>{{ post.number_of_dislikes }}<i class="fas fa-share"></i>{{ post.number_of_shares }}</p> 
                    -->
                </div>
            </div>
        </div>
        {% if forloop.counter|divisibleby:3 %}
    </div>
    <div class="row">
        {% endif %}
        {% endfor %}

    </div>
</div>
</div>
{% if is_paginated %}
<nav aria-label="Page navigation">
<ul class="pagination justify-content-center">
    {% if page_obj.has_previous %}
    <li><a href="?page={{ page_obj.previous_page_number }}" class="page-link">&laquo; PREV </a></li>
    {% endif %}
    {% if page_obj.has_next %}
    <li><a href="?page={{ page_obj.next_page_number }}" class="page-link"> NEXT &raquo;</a></li>

    {% endif %}
</ul>
</nav>
{% endif %}
</div>


{% endblock %}
